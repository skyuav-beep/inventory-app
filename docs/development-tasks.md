# 개발 과업 정리

## 모노레포 구조 가이드

- apps/api: NestJS 백엔드 (공통, 인증, 사용자, 도메인별 모듈, Prisma)
- apps/web: React + Vite + Tailwind 프런트엔드 (라우트, Zustand 스토어, UI 컴포넌트)
- packages: 타입·UI·공통 설정 공유
- infra: docker-compose, nginx, (선택) k8s 매니페스트
- scripts: 시드, 마이그레이션, 백업 등 자동화 스크립트
- docs: PRD, OpenAPI, 아키텍처 문서 보관

## 스프린트별 주요 작업

### 스프린트 1 (백엔드 핵심)

- Prisma 스키마·마이그레이션 및 시드 데이터 작성
- 인증/사용자/권한 API (JWT, Role/Permission)
- 제품·입고·출고·반품 CRUD와 재고잔량/상태 계산
- 대시보드 요약 API 구현
- 텔레그램 설정 API(조회/저장) 및 테스트 발송 Endpoint
- 알림 서비스 기본 구조(쿨다운, 심야 억제, 재시도)
- 핵심 도메인 유닛 테스트 및 로그인/제품 e2e 테스트

### 스프린트 2 (프런트 + 알림/업로드)

- 반응형 레이아웃(사이드바, 상단바), 테이블·카드·모달 UI 구성
- 제품/입고/출고/반품 화면 및 모바일 대응 모달 흐름 구현
- 대시보드: 부족품목 배너, 차트 시각화
- 텔레그램 설정 UI와 테스트 발송 제어
- Excel/CSV 업로드 플로우, 비동기 Job 처리, 결과 리포트 UI
- 알림 발송 워커(쿨다운, 심야, 로그 저장)

### 스프린트 3 (하드닝/배포)

- 리소스별 읽기/쓰기 권한 UI 및 가드 정교화
- 감사/오류 로깅, 헬스체크, 레이트 리밋 도입
- Docker, 리버스 프록시, nginx 설정 및 .env 정비
- 운영 체크리스트(백업, 모니터링, 장애 대응)
- 문서화(README, .env.example, OpenAPI Export)

## 완료 기준 (Definition of Done)

- OpenAPI 문서화 및 e2e 테스트 통과
- 모바일 브레이크포인트(≤360px) UI 검증
- 텔레그램 실발송 테스트 및 알림 로그 확인
- 업로드 템플릿 성공/실패 리포트 검증

## 주요 리스크와 대응

- 대용량 업로드: 비동기 Job 및 스트리밍 파싱(csv-parse)
- 텔레그램 토큰 보안: .env + Secrets Manager, 로그 마스킹
- 권한 가드 품질: e2e 시나리오 테스트 강화
